---
const { lang = 'en' } = Astro.props;
const isEN = lang === 'en';

const title = isEN ? 'Provisional Constitution' : 'Dastuurka';
const governmentName = isEN ? 'The Federal Republic of Somalia' : 'Jamhuuriyadda Federaalka ee Soomaaliya';
const subtitle = isEN
  ? 'Adopted August 1, 2012 Mogadishu, Somalia'
  : 'La Ansixiyey August 1, 2012 Muqdishu, Soomaaliya';
const cta1 = isEN ? 'Browse Chapters' : 'Cutubyada';
const cta2 = isEN ? 'Download PDF' : 'Download PDF';
---

<section class="relative overflow-hidden pt-20 pb-12 sm:pt-32 sm:pb-20">
  <!-- Background with positioned icons -->
  <div class="absolute inset-0 -z-10">
    <!-- Gradient base -->
    <div class="absolute inset-0 bg-gradient-to-b from-sky-100/70 via-white to-white dark:from-sky-500/10 dark:via-zinc-950 dark:to-zinc-950"></div>

    <!-- Blur effects -->
    <div class="absolute -left-28 top-10 h-72 w-72 rounded-full bg-sky-300/35 blur-3xl dark:bg-sky-400/10"></div>
    <div class="absolute right-0 top-24 h-72 w-72 rounded-full bg-cyan-300/25 blur-3xl dark:bg-cyan-400/10"></div>

    <!-- Floating Icons Around Content - Hidden on small mobile, visible on sm+ -->
    <div class="hidden sm:block">
      <svg class="absolute inset-0 h-full w-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <!-- Top Left - Constitution Document -->
        <g transform="translate(120, 60)" opacity="0.20">
          <rect x="0" y="0" width="28" height="38" rx="2" stroke="#38bdf8" stroke-width="2.5" fill="none"/>
          <line x1="6" y1="10" x2="22" y2="10" stroke="#38bdf8" stroke-width="2"/>
          <line x1="6" y1="16" x2="22" y2="16" stroke="#38bdf8" stroke-width="2"/>
          <line x1="6" y1="22" x2="18" y2="22" stroke="#38bdf8" stroke-width="2"/>
        </g>

        <!-- Top Right - Gavel -->
        <g transform="translate(1040, 80)" opacity="0.19">
          <rect x="0" y="10" width="18" height="7" rx="1" fill="#38bdf8"/>
          <rect x="7" y="17" width="4" height="20" fill="#38bdf8"/>
          <rect x="20" y="30" width="15" height="3" rx="1" fill="#38bdf8"/>
        </g>

        <!-- Left Side - Section Symbol -->
        <text x="80" y="320" font-size="56" fill="#38bdf8" fill-opacity="0.18" font-family="Georgia, serif" font-weight="bold">§</text>

        <!-- Right Side - Scales of Justice -->
        <g transform="translate(1080, 280)" opacity="0.20">
          <path d="M15 5 L15 35 M7 18 L23 18" stroke="#38bdf8" stroke-width="2.5" fill="none"/>
          <circle cx="7" cy="25" r="5" stroke="#38bdf8" stroke-width="2" fill="none"/>
          <circle cx="23" cy="25" r="5" stroke="#38bdf8" stroke-width="2" fill="none"/>
          <path d="M2 28 L12 28 M18 28 L28 28" stroke="#38bdf8" stroke-width="2"/>
        </g>

        <!-- Bottom Left - Law Book -->
        <g transform="translate(140, 630)" opacity="0.19">
          <path d="M0,5 L0,35 L15,32 L30,35 L30,5 L15,8 Z" stroke="#38bdf8" stroke-width="2.5" fill="none"/>
          <line x1="15" y1="8" x2="15" y2="32" stroke="#38bdf8" stroke-width="2"/>
        </g>

        <!-- Bottom Right - Government Building -->
        <g transform="translate(1020, 600)" opacity="0.19">
          <polygon points="20,5 40,15 40,35 0,35 0,15" stroke="#38bdf8" stroke-width="2.5" fill="none"/>
          <rect x="8" y="20" width="6" height="15" fill="#38bdf8"/>
          <rect x="16" y="20" width="6" height="15" fill="#38bdf8"/>
          <rect x="26" y="20" width="6" height="15" fill="#38bdf8"/>
        </g>

        <!-- Middle Left - Somalia Star -->
        <text x="60" y="480" font-size="42" fill="#0ea5e9" fill-opacity="0.20">★</text>

        <!-- Middle Right - Paragraph Symbol -->
        <text x="1090" y="500" font-size="48" fill="#38bdf8" fill-opacity="0.17" font-family="Georgia, serif">¶</text>

        <!-- Top Center Left - Chapter Badge -->
        <g transform="translate(280, 100)" opacity="0.17">
          <rect x="0" y="0" width="50" height="26" rx="13" stroke="#38bdf8" stroke-width="2" fill="none"/>
          <text x="9" y="17" font-size="12" fill="#38bdf8" font-family="system-ui, sans-serif" font-weight="600">Ch. 15</text>
        </g>

        <!-- Top Center Right - Article Reference -->
        <text x="860" y="130" font-size="17" fill="#0ea5e9" fill-opacity="0.17" font-family="system-ui, sans-serif" font-weight="600">Art. 143</text>

        <!-- Bottom Center Left - Section Symbol Small -->
        <text x="320" y="690" font-size="38" fill="#38bdf8" fill-opacity="0.15" font-family="Georgia, serif">§</text>

        <!-- Bottom Center Right - Star Small -->
        <text x="840" y="710" font-size="32" fill="#0ea5e9" fill-opacity="0.16">★</text>
      </svg>
    </div>

    <!-- Simplified version for mobile (fewer icons, better spaced) -->
    <div class="block sm:hidden">
      <svg class="absolute inset-0 h-full w-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 600" preserveAspectRatio="xMidYMid slice">
        <!-- Top Left - Section Symbol -->
        <text x="20" y="80" font-size="42" fill="#38bdf8" fill-opacity="0.18" font-family="Georgia, serif" font-weight="bold">§</text>

        <!-- Top Right - Star -->
        <text x="340" y="100" font-size="36" fill="#0ea5e9" fill-opacity="0.20">★</text>

        <!-- Bottom Left - Law Book -->
        <g transform="translate(30, 480)" opacity="0.19">
          <path d="M0,5 L0,30 L12,28 L24,30 L24,5 L12,7 Z" stroke="#38bdf8" stroke-width="2.5" fill="none"/>
          <line x1="12" y1="7" x2="12" y2="28" stroke="#38bdf8" stroke-width="2"/>
        </g>

        <!-- Bottom Right - Paragraph -->
        <text x="340" y="530" font-size="40" fill="#38bdf8" fill-opacity="0.17" font-family="Georgia, serif">¶</text>
      </svg>
    </div>
  </div>

  <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
    <!-- Centered content -->
    <div class="text-center">
      <!-- Emblem -->
      <div class="mb-8">
        <img src="/somalia-emblem.svg" alt="Somalia Emblem" class="h-[160px] sm:h-[200px] md:h-[240px] w-auto mx-auto opacity-90" loading="eager" />
      </div>

      <h1 class="mt-4 text-4xl font-bold tracking-tight sm:text-6xl lg:text-7xl">
        <span class="bg-gradient-to-r from-slate-700 to-sky-600 bg-clip-text text-transparent dark:from-slate-300 dark:to-sky-300">
          {title}
        </span>
      </h1>

      <p class="mt-4 text-xl sm:text-2xl lg:text-3xl font-normal">
        <span class="bg-gradient-to-r from-slate-600 to-sky-500 bg-clip-text text-transparent dark:from-slate-400 dark:to-sky-400">{governmentName}</span>
      </p>

      <p class="mt-6 text-sm italic text-zinc-500 dark:text-zinc-400">{subtitle}</p>

      <div class="mt-10 flex flex-row flex-wrap gap-3 justify-center">
        <a
          href={`/${lang}#chapters`}
          class="inline-flex items-center justify-center rounded-full bg-sky-600 px-6 sm:px-8 py-3 text-sm font-semibold text-white shadow hover:bg-sky-700 transition-colors"
        >
          {cta1}
        </a>
        <a
          href="/sanity"
          class="inline-flex items-center justify-center rounded-full border border-zinc-200 bg-white px-6 sm:px-8 py-3 text-sm font-semibold text-zinc-800 shadow-sm hover:border-zinc-300 hover:bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100 dark:hover:bg-zinc-900 transition-colors"
        >
          {cta2}
        </a>
      </div>
    </div>
  </div>
</section>
